{
  "repo": {
    "HEAD": {
      "commit": "9d309a3161394e8a3dc0638d7ec214211910740f",
      "author": "migudel",
      "date": "Sat Mar 29 20:42:18 2025 +0100",
      "message": "INICIO DE PRUEBAS"
    },
    "url": "https://github.com/DavideViolante/Angular-Full-Stack"
  },
  "before": {
    "angular2-full-stack": {
      "recommended": [
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/client/app/about/about.component.ts",
          "messages": [
            {
              "ruleId": "@angular-eslint/prefer-standalone",
              "severity": 2,
              "message": "Components, Directives and Pipes should not opt out of standalone",
              "line": 7,
              "column": 3,
              "nodeType": "Property",
              "messageId": "preferStandalone",
              "endLine": 7,
              "endColumn": 20,
              "fix": {
                "range": [
                  166,
                  183
                ],
                "text": ""
              }
            }
          ],
          "suppressedMessages": [],
          "errorCount": 1,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 1,
          "fixableWarningCount": 0,
          "source": "import { Component } from '@angular/core';\n\n@Component({\n selector: 'app-about',\n templateUrl: './about.component.html',\n styleUrls: ['./about.component.scss'],\n standalone: false\n})\nexport class AboutComponent {\n\n}\n",
          "usedDeprecatedRules": []
        },
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/client/app/account/account.component.ts",
          "messages": [
            {
              "ruleId": "@angular-eslint/prefer-standalone",
              "severity": 2,
              "message": "Components, Directives and Pipes should not opt out of standalone",
              "line": 10,
              "column": 3,
              "nodeType": "Property",
              "messageId": "preferStandalone",
              "endLine": 10,
              "endColumn": 20,
              "fix": {
                "range": [
                  367,
                  384
                ],
                "text": ""
              }
            }
          ],
          "suppressedMessages": [],
          "errorCount": 1,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 1,
          "fixableWarningCount": 0,
          "source": "import { Component, OnInit } from '@angular/core';\nimport { ToastComponent } from '../shared/toast/toast.component';\nimport { AuthService } from '../services/auth.service';\nimport { UserService } from '../services/user.service';\nimport { User } from '../shared/models/user.model';\n\n@Component({\n selector: 'app-account',\n templateUrl: './account.component.html',\n standalone: false\n})\nexport class AccountComponent implements OnInit {\n\n user: User = new User();\n isLoading = true;\n\n constructor(private auth: AuthService,\n public toast: ToastComponent,\n private userService: UserService) { }\n\n ngOnInit(): void {\n this.getUser();\n }\n\n getUser(): void {\n this.userService.getUser(this.auth.currentUser).subscribe({\n next: data => this.user = data,\n error: error => console.log(error),\n complete: () => this.isLoading = false\n });\n }\n\n save(user: User): void {\n this.userService.editUser(user).subscribe({\n next: () => {\n this.toast.setMessage('Account settings saved!', 'success');\n this.auth.currentUser = user;\n this.auth.isAdmin = user.role === 'admin';\n },\n error: error => console.log(error)\n });\n }\n\n}\n",
          "usedDeprecatedRules": []
        },
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/client/app/add-cat-form/add-cat-form.component.ts",
          "messages": [
            {
              "ruleId": "@angular-eslint/prefer-standalone",
              "severity": 2,
              "message": "Components, Directives and Pipes should not opt out of standalone",
              "line": 11,
              "column": 3,
              "nodeType": "Property",
              "messageId": "preferStandalone",
              "endLine": 11,
              "endColumn": 20,
              "fix": {
                "range": [
                  467,
                  484
                ],
                "text": ""
              }
            }
          ],
          "suppressedMessages": [],
          "errorCount": 1,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 1,
          "fixableWarningCount": 0,
          "source": "import { Component, Input } from '@angular/core';\nimport { UntypedFormGroup, UntypedFormControl, Validators, UntypedFormBuilder } from '@angular/forms';\nimport { CatService } from '../services/cat.service';\nimport { ToastComponent } from '../shared/toast/toast.component';\nimport { Cat } from '../shared/models/cat.model';\n\n@Component({\n selector: 'app-add-cat-form',\n templateUrl: './add-cat-form.component.html',\n styleUrls: ['./add-cat-form.component.scss'],\n standalone: false\n})\n\nexport class AddCatFormComponent {\n @Input() cats: Cat[] = [];\n\n addCatForm: UntypedFormGroup;\n name = new UntypedFormControl('', Validators.required);\n age = new UntypedFormControl('', Validators.required);\n weight = new UntypedFormControl('', Validators.required);\n\n constructor(private catService: CatService,\n private formBuilder: UntypedFormBuilder,\n public toast: ToastComponent) {\n this.addCatForm = this.formBuilder.group({\n name: this.name,\n age: this.age,\n weight: this.weight\n });\n }\n\n addCat(): void {\n this.catService.addCat(this.addCatForm.value).subscribe({\n next: res => {\n this.cats.push(res);\n this.addCatForm.reset();\n this.toast.setMessage('Item added successfully.', 'success');\n },\n error: error => console.log(error)\n });\n }\n\n}\n",
          "usedDeprecatedRules": []
        },
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/client/app/admin/admin.component.ts",
          "messages": [
            {
              "ruleId": "@angular-eslint/prefer-standalone",
              "severity": 2,
              "message": "Components, Directives and Pipes should not opt out of standalone",
              "line": 11,
              "column": 3,
              "nodeType": "Property",
              "messageId": "preferStandalone",
              "endLine": 11,
              "endColumn": 20,
              "fix": {
                "range": [
                  364,
                  381
                ],
                "text": ""
              }
            }
          ],
          "suppressedMessages": [],
          "errorCount": 1,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 1,
          "fixableWarningCount": 0,
          "source": "import { Component, OnInit } from '@angular/core';\n\nimport { ToastComponent } from '../shared/toast/toast.component';\nimport { AuthService } from '../services/auth.service';\nimport { UserService } from '../services/user.service';\nimport { User } from '../shared/models/user.model';\n\n@Component({\n selector: 'app-admin',\n templateUrl: './admin.component.html',\n standalone: false\n})\nexport class AdminComponent implements OnInit {\n\n users: User[] = [];\n isLoading = true;\n\n constructor(public auth: AuthService,\n public toast: ToastComponent,\n private userService: UserService) { }\n\n ngOnInit(): void {\n this.getUsers();\n }\n\n getUsers(): void {\n this.userService.getUsers().subscribe({\n next: data => this.users = data,\n error: error => console.log(error),\n complete: () => this.isLoading = false\n });\n }\n\n deleteUser(user: User): void {\n if (window.confirm('Are you sure you want to delete ' + user.username + '?')) {\n this.userService.deleteUser(user).subscribe({\n next: () => this.toast.setMessage('User deleted successfully.', 'success'),\n error: error => console.log(error),\n complete: () => this.getUsers()\n });\n }\n }\n\n}\n",
          "usedDeprecatedRules": []
        },
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/client/app/app.component.ts",
          "messages": [
            {
              "ruleId": "@angular-eslint/prefer-standalone",
              "severity": 2,
              "message": "Components, Directives and Pipes should not opt out of standalone",
              "line": 7,
              "column": 3,
              "nodeType": "Property",
              "messageId": "preferStandalone",
              "endLine": 7,
              "endColumn": 20,
              "fix": {
                "range": [
                  214,
                  231
                ],
                "text": ""
              }
            }
          ],
          "suppressedMessages": [],
          "errorCount": 1,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 1,
          "fixableWarningCount": 0,
          "source": "import { AfterViewChecked, ChangeDetectorRef, Component } from '@angular/core';\nimport { AuthService } from './services/auth.service';\n\n@Component({\n selector: 'app-root',\n templateUrl: './app.component.html',\n standalone: false\n})\nexport class AppComponent implements AfterViewChecked {\n\n constructor(public auth: AuthService,\n private changeDetector: ChangeDetectorRef) { }\n\n // This fixes: https://github.com/DavideViolante/Angular-Full-Stack/issues/105\n ngAfterViewChecked(): void {\n this.changeDetector.detectChanges();\n }\n\n}\n",
          "usedDeprecatedRules": []
        },
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/client/app/cats/cats.component.ts",
          "messages": [
            {
              "ruleId": "@angular-eslint/prefer-standalone",
              "severity": 2,
              "message": "Components, Directives and Pipes should not opt out of standalone",
              "line": 11,
              "column": 3,
              "nodeType": "Property",
              "messageId": "preferStandalone",
              "endLine": 11,
              "endColumn": 20,
              "fix": {
                "range": [
                  342,
                  359
                ],
                "text": ""
              }
            }
          ],
          "suppressedMessages": [],
          "errorCount": 1,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 1,
          "fixableWarningCount": 0,
          "source": "import { Component, OnInit } from '@angular/core';\n\nimport { CatService } from '../services/cat.service';\nimport { ToastComponent } from '../shared/toast/toast.component';\nimport { Cat } from '../shared/models/cat.model';\n\n@Component({\n selector: 'app-cats',\n templateUrl: './cats.component.html',\n styleUrls: ['./cats.component.scss'],\n standalone: false\n})\nexport class CatsComponent implements OnInit {\n\n cat = new Cat();\n cats: Cat[] = [];\n isLoading = true;\n isEditing = false;\n\n constructor(private catService: CatService,\n public toast: ToastComponent) { }\n\n ngOnInit(): void {\n this.getCats();\n }\n\n getCats(): void {\n this.catService.getCats().subscribe({\n next: data => this.cats = data,\n error: error => console.log(error),\n complete: () => this.isLoading = false\n });\n }\n\n enableEditing(cat: Cat): void {\n this.isEditing = true;\n this.cat = cat;\n }\n\n cancelEditing(): void {\n this.isEditing = false;\n this.cat = new Cat();\n this.toast.setMessage('Item editing cancelled.', 'warning');\n // reload the cats to reset the editing\n this.getCats();\n }\n\n editCat(cat: Cat): void {\n this.catService.editCat(cat).subscribe({\n next: () => {\n this.isEditing = false;\n this.cat = cat;\n this.toast.setMessage('Item edited successfully.', 'success');\n },\n error: error => console.log(error)\n });\n }\n\n deleteCat(cat: Cat): void {\n if (window.confirm('Are you sure you want to permanently delete this item?')) {\n this.catService.deleteCat(cat).subscribe({\n next: () => {\n this.cats = this.cats.filter(elem => elem._id !== cat._id);\n this.toast.setMessage('Item deleted successfully.', 'success');\n },\n error: error => console.log(error)\n });\n }\n }\n\n}\n",
          "usedDeprecatedRules": []
        },
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/client/app/login/login.component.ts",
          "messages": [
            {
              "ruleId": "@angular-eslint/prefer-standalone",
              "severity": 2,
              "message": "Components, Directives and Pipes should not opt out of standalone",
              "line": 11,
              "column": 3,
              "nodeType": "Property",
              "messageId": "preferStandalone",
              "endLine": 11,
              "endColumn": 20,
              "fix": {
                "range": [
                  401,
                  418
                ],
                "text": ""
              }
            }
          ],
          "suppressedMessages": [],
          "errorCount": 1,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 1,
          "fixableWarningCount": 0,
          "source": "import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { UntypedFormBuilder, UntypedFormControl, UntypedFormGroup, Validators } from '@angular/forms';\n\nimport { AuthService } from '../services/auth.service';\nimport { ToastComponent } from '../shared/toast/toast.component';\n\n@Component({\n selector: 'app-login',\n templateUrl: './login.component.html',\n standalone: false\n})\nexport class LoginComponent implements OnInit {\n\n loginForm: UntypedFormGroup;\n email = new UntypedFormControl('', [\n Validators.email,\n Validators.required,\n Validators.minLength(3),\n Validators.maxLength(100)\n ]);\n password = new UntypedFormControl('', [\n Validators.required,\n Validators.minLength(6)\n ]);\n\n constructor(private auth: AuthService,\n private formBuilder: UntypedFormBuilder,\n private router: Router,\n public toast: ToastComponent) {\n this.loginForm = this.formBuilder.group({\n email: this.email,\n password: this.password\n });\n }\n\n ngOnInit(): void {\n if (this.auth.loggedIn) {\n this.router.navigate(['/']);\n }\n }\n\n setClassEmail(): object {\n return { 'has-danger': !this.email.pristine && !this.email.valid };\n }\n\n setClassPassword(): object {\n return { 'has-danger': !this.password.pristine && !this.password.valid };\n }\n\n login(): void {\n this.auth.login(this.loginForm.value);\n }\n\n}\n",
          "usedDeprecatedRules": []
        },
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/client/app/logout/logout.component.ts",
          "messages": [
            {
              "ruleId": "@angular-eslint/prefer-standalone",
              "severity": 2,
              "message": "Components, Directives and Pipes should not opt out of standalone",
              "line": 7,
              "column": 3,
              "nodeType": "Property",
              "messageId": "preferStandalone",
              "endLine": 7,
              "endColumn": 20,
              "fix": {
                "range": [
                  165,
                  182
                ],
                "text": ""
              }
            }
          ],
          "suppressedMessages": [],
          "errorCount": 1,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 1,
          "fixableWarningCount": 0,
          "source": "import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../services/auth.service';\n\n@Component({\n selector: 'app-logout',\n template: '',\n standalone: false\n})\nexport class LogoutComponent implements OnInit {\n\n constructor(private auth: AuthService) { }\n\n ngOnInit(): void {\n this.auth.logout();\n }\n\n}\n",
          "usedDeprecatedRules": []
        },
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/client/app/not-found/not-found.component.ts",
          "messages": [
            {
              "ruleId": "@angular-eslint/prefer-standalone",
              "severity": 2,
              "message": "Components, Directives and Pipes should not opt out of standalone",
              "line": 6,
              "column": 3,
              "nodeType": "Property",
              "messageId": "preferStandalone",
              "endLine": 6,
              "endColumn": 20,
              "fix": {
                "range": [
                  133,
                  150
                ],
                "text": ""
              }
            }
          ],
          "suppressedMessages": [],
          "errorCount": 1,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 1,
          "fixableWarningCount": 0,
          "source": "import { Component } from '@angular/core';\n\n@Component({\n selector: 'app-not-found',\n templateUrl: './not-found.component.html',\n standalone: false\n})\nexport class NotFoundComponent {\n\n}\n",
          "usedDeprecatedRules": []
        },
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/client/app/register/register.component.ts",
          "messages": [
            {
              "ruleId": "@angular-eslint/prefer-standalone",
              "severity": 2,
              "message": "Components, Directives and Pipes should not opt out of standalone",
              "line": 11,
              "column": 3,
              "nodeType": "Property",
              "messageId": "preferStandalone",
              "endLine": 11,
              "endColumn": 20,
              "fix": {
                "range": [
                  399,
                  416
                ],
                "text": ""
              }
            }
          ],
          "suppressedMessages": [],
          "errorCount": 1,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 1,
          "fixableWarningCount": 0,
          "source": "import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { UntypedFormBuilder, UntypedFormControl, UntypedFormGroup, Validators } from '@angular/forms';\n\nimport { UserService } from '../services/user.service';\nimport { ToastComponent } from '../shared/toast/toast.component';\n\n@Component({\n selector: 'app-register',\n templateUrl: './register.component.html',\n standalone: false\n})\nexport class RegisterComponent {\n\n registerForm: UntypedFormGroup;\n username = new UntypedFormControl('', [\n Validators.required,\n Validators.minLength(2),\n Validators.maxLength(30),\n Validators.pattern('[a-zA-Z0-9_-\\\\s]*')\n ]);\n email = new UntypedFormControl('', [\n Validators.email,\n Validators.required,\n Validators.minLength(3),\n Validators.maxLength(100)\n ]);\n password = new UntypedFormControl('', [\n Validators.required,\n Validators.minLength(6)\n ]);\n role = new UntypedFormControl('', [\n Validators.required\n ]);\n\n constructor(private formBuilder: UntypedFormBuilder,\n private router: Router,\n public toast: ToastComponent,\n private userService: UserService) {\n this.registerForm = this.formBuilder.group({\n username: this.username,\n email: this.email,\n password: this.password,\n role: this.role\n });\n }\n\n setClassUsername(): object {\n return { 'has-danger': !this.username.pristine && !this.username.valid };\n }\n\n setClassEmail(): object {\n return { 'has-danger': !this.email.pristine && !this.email.valid };\n }\n\n setClassPassword(): object {\n return { 'has-danger': !this.password.pristine && !this.password.valid };\n }\n\n register(): void {\n this.userService.register(this.registerForm.value).subscribe({\n next: () => {\n this.toast.setMessage('You successfully registered!', 'success');\n this.router.navigate(['/login']);\n },\n error: () => this.toast.setMessage('Email already exists', 'danger')\n });\n }\n}\n",
          "usedDeprecatedRules": []
        },
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/client/app/shared/loading/loading.component.ts",
          "messages": [
            {
              "ruleId": "@angular-eslint/prefer-standalone",
              "severity": 2,
              "message": "Components, Directives and Pipes should not opt out of standalone",
              "line": 6,
              "column": 3,
              "nodeType": "Property",
              "messageId": "preferStandalone",
              "endLine": 6,
              "endColumn": 20,
              "fix": {
                "range": [
                  136,
                  153
                ],
                "text": ""
              }
            }
          ],
          "suppressedMessages": [],
          "errorCount": 1,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 1,
          "fixableWarningCount": 0,
          "source": "import { Component, Input } from '@angular/core';\n\n@Component({\n selector: 'app-loading',\n templateUrl: './loading.component.html',\n standalone: false\n})\nexport class LoadingComponent {\n @Input() condition = false;\n}\n",
          "usedDeprecatedRules": []
        },
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/client/app/shared/toast/toast.component.ts",
          "messages": [
            {
              "ruleId": "@angular-eslint/prefer-standalone",
              "severity": 2,
              "message": "Components, Directives and Pipes should not opt out of standalone",
              "line": 7,
              "column": 3,
              "nodeType": "Property",
              "messageId": "preferStandalone",
              "endLine": 7,
              "endColumn": 20,
              "fix": {
                "range": [
                  173,
                  190
                ],
                "text": ""
              }
            }
          ],
          "suppressedMessages": [],
          "errorCount": 1,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 1,
          "fixableWarningCount": 0,
          "source": "import { Component, Input } from '@angular/core';\n\n@Component({\n selector: 'app-toast',\n templateUrl: './toast.component.html',\n styleUrls: ['./toast.component.scss'],\n standalone: false\n})\nexport class ToastComponent {\n @Input() message = { body: '', type: '' };\n existingTimeout = 0;\n\n setMessage(body: string, type: string, time = 3000): void {\n if (this.existingTimeout) {\n clearTimeout(this.existingTimeout);\n }\n this.message.body = body;\n this.message.type = type;\n this.existingTimeout = window.setTimeout(() => this.message.body = '', time);\n }\n}\n",
          "usedDeprecatedRules": []
        },
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/server/models/user.ts",
          "messages": [
            {
              "ruleId": "@typescript-eslint/no-explicit-any",
              "message": "Definition for rule '@typescript-eslint/no-explicit-any' was not found.",
              "line": 10,
              "column": 3,
              "endLine": 10,
              "endColumn": 65,
              "severity": 2,
              "nodeType": null
            },
            {
              "ruleId": "@typescript-eslint/no-this-alias",
              "message": "Definition for rule '@typescript-eslint/no-this-alias' was not found.",
              "line": 23,
              "column": 3,
              "endLine": 23,
              "endColumn": 63,
              "severity": 2,
              "nodeType": null
            },
            {
              "ruleId": "@typescript-eslint/no-explicit-any",
              "message": "Definition for rule '@typescript-eslint/no-explicit-any' was not found.",
              "line": 36,
              "column": 1,
              "endLine": 36,
              "endColumn": 63,
              "severity": 2,
              "nodeType": null
            }
          ],
          "suppressedMessages": [],
          "errorCount": 3,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 0,
          "fixableWarningCount": 0,
          "source": "import { compare, genSalt, hash } from 'bcryptjs';\nimport { model, Schema } from 'mongoose';\n\ninterface IUser {\n username: string;\n email: string;\n password: string;\n role: string;\n isModified(password: string): boolean;\n // eslint-disable-next-line @typescript-eslint/no-explicit-any\n comparePassword(password: string, callback: (err: any, isMatch: boolean) => void): boolean;\n}\n\nconst userSchema = new Schema<IUser>({\n email: { type: String, unique: true, lowercase: true, trim: true },\n username: String,\n password: String,\n role: String\n});\n\n// Before saving the user, hash the password\nuserSchema.pre<IUser>('save', function(next): void {\n // eslint-disable-next-line @typescript-eslint/no-this-alias\n const user = this;\n if (!user.isModified('password')) { return next(); }\n genSalt(10, (err, salt) => {\n if (err) { return next(err); }\n hash(user.password, salt, (error, hashedPassword) => {\n if (error) { return next(error); }\n user.password = hashedPassword;\n next();\n });\n });\n});\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nuserSchema.methods.comparePassword = function(candidatePassword: string, callback: any): void {\n compare(candidatePassword, this.password, (err, isMatch) => {\n if (err) { return callback(err); }\n callback(null, isMatch);\n });\n};\n\n// Omit the password when returning a user\nuserSchema.set('toJSON', {\n transform: (doc, ret) => {\n delete ret.password;\n return ret;\n }\n});\n\nconst User = model<IUser>('User', userSchema);\n\nexport type { IUser };\nexport default User;\n",
          "usedDeprecatedRules": []
        }
      ],
      "all": [
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/client/app/about/about.component.ts",
          "messages": [
            {
              "ruleId": "@angular-eslint/prefer-standalone",
              "severity": 2,
              "message": "Components, Directives and Pipes should not opt out of standalone",
              "line": 7,
              "column": 3,
              "nodeType": "Property",
              "messageId": "preferStandalone",
              "endLine": 7,
              "endColumn": 20,
              "fix": {
                "range": [
                  166,
                  183
                ],
                "text": ""
              }
            }
          ],
          "suppressedMessages": [],
          "errorCount": 1,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 1,
          "fixableWarningCount": 0,
          "source": "import { Component } from '@angular/core';\n\n@Component({\n selector: 'app-about',\n templateUrl: './about.component.html',\n styleUrls: ['./about.component.scss'],\n standalone: false\n})\nexport class AboutComponent {\n\n}\n",
          "usedDeprecatedRules": []
        },
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/client/app/account/account.component.ts",
          "messages": [
            {
              "ruleId": "@angular-eslint/prefer-standalone",
              "severity": 2,
              "message": "Components, Directives and Pipes should not opt out of standalone",
              "line": 10,
              "column": 3,
              "nodeType": "Property",
              "messageId": "preferStandalone",
              "endLine": 10,
              "endColumn": 20,
              "fix": {
                "range": [
                  367,
                  384
                ],
                "text": ""
              }
            }
          ],
          "suppressedMessages": [],
          "errorCount": 1,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 1,
          "fixableWarningCount": 0,
          "source": "import { Component, OnInit } from '@angular/core';\nimport { ToastComponent } from '../shared/toast/toast.component';\nimport { AuthService } from '../services/auth.service';\nimport { UserService } from '../services/user.service';\nimport { User } from '../shared/models/user.model';\n\n@Component({\n selector: 'app-account',\n templateUrl: './account.component.html',\n standalone: false\n})\nexport class AccountComponent implements OnInit {\n\n user: User = new User();\n isLoading = true;\n\n constructor(private auth: AuthService,\n public toast: ToastComponent,\n private userService: UserService) { }\n\n ngOnInit(): void {\n this.getUser();\n }\n\n getUser(): void {\n this.userService.getUser(this.auth.currentUser).subscribe({\n next: data => this.user = data,\n error: error => console.log(error),\n complete: () => this.isLoading = false\n });\n }\n\n save(user: User): void {\n this.userService.editUser(user).subscribe({\n next: () => {\n this.toast.setMessage('Account settings saved!', 'success');\n this.auth.currentUser = user;\n this.auth.isAdmin = user.role === 'admin';\n },\n error: error => console.log(error)\n });\n }\n\n}\n",
          "usedDeprecatedRules": []
        },
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/client/app/add-cat-form/add-cat-form.component.ts",
          "messages": [
            {
              "ruleId": "@angular-eslint/prefer-standalone",
              "severity": 2,
              "message": "Components, Directives and Pipes should not opt out of standalone",
              "line": 11,
              "column": 3,
              "nodeType": "Property",
              "messageId": "preferStandalone",
              "endLine": 11,
              "endColumn": 20,
              "fix": {
                "range": [
                  467,
                  484
                ],
                "text": ""
              }
            }
          ],
          "suppressedMessages": [],
          "errorCount": 1,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 1,
          "fixableWarningCount": 0,
          "source": "import { Component, Input } from '@angular/core';\nimport { UntypedFormGroup, UntypedFormControl, Validators, UntypedFormBuilder } from '@angular/forms';\nimport { CatService } from '../services/cat.service';\nimport { ToastComponent } from '../shared/toast/toast.component';\nimport { Cat } from '../shared/models/cat.model';\n\n@Component({\n selector: 'app-add-cat-form',\n templateUrl: './add-cat-form.component.html',\n styleUrls: ['./add-cat-form.component.scss'],\n standalone: false\n})\n\nexport class AddCatFormComponent {\n @Input() cats: Cat[] = [];\n\n addCatForm: UntypedFormGroup;\n name = new UntypedFormControl('', Validators.required);\n age = new UntypedFormControl('', Validators.required);\n weight = new UntypedFormControl('', Validators.required);\n\n constructor(private catService: CatService,\n private formBuilder: UntypedFormBuilder,\n public toast: ToastComponent) {\n this.addCatForm = this.formBuilder.group({\n name: this.name,\n age: this.age,\n weight: this.weight\n });\n }\n\n addCat(): void {\n this.catService.addCat(this.addCatForm.value).subscribe({\n next: res => {\n this.cats.push(res);\n this.addCatForm.reset();\n this.toast.setMessage('Item added successfully.', 'success');\n },\n error: error => console.log(error)\n });\n }\n\n}\n",
          "usedDeprecatedRules": []
        },
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/client/app/admin/admin.component.ts",
          "messages": [
            {
              "ruleId": "@angular-eslint/prefer-standalone",
              "severity": 2,
              "message": "Components, Directives and Pipes should not opt out of standalone",
              "line": 11,
              "column": 3,
              "nodeType": "Property",
              "messageId": "preferStandalone",
              "endLine": 11,
              "endColumn": 20,
              "fix": {
                "range": [
                  364,
                  381
                ],
                "text": ""
              }
            }
          ],
          "suppressedMessages": [],
          "errorCount": 1,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 1,
          "fixableWarningCount": 0,
          "source": "import { Component, OnInit } from '@angular/core';\n\nimport { ToastComponent } from '../shared/toast/toast.component';\nimport { AuthService } from '../services/auth.service';\nimport { UserService } from '../services/user.service';\nimport { User } from '../shared/models/user.model';\n\n@Component({\n selector: 'app-admin',\n templateUrl: './admin.component.html',\n standalone: false\n})\nexport class AdminComponent implements OnInit {\n\n users: User[] = [];\n isLoading = true;\n\n constructor(public auth: AuthService,\n public toast: ToastComponent,\n private userService: UserService) { }\n\n ngOnInit(): void {\n this.getUsers();\n }\n\n getUsers(): void {\n this.userService.getUsers().subscribe({\n next: data => this.users = data,\n error: error => console.log(error),\n complete: () => this.isLoading = false\n });\n }\n\n deleteUser(user: User): void {\n if (window.confirm('Are you sure you want to delete ' + user.username + '?')) {\n this.userService.deleteUser(user).subscribe({\n next: () => this.toast.setMessage('User deleted successfully.', 'success'),\n error: error => console.log(error),\n complete: () => this.getUsers()\n });\n }\n }\n\n}\n",
          "usedDeprecatedRules": []
        },
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/client/app/app.component.ts",
          "messages": [
            {
              "ruleId": "@angular-eslint/prefer-standalone",
              "severity": 2,
              "message": "Components, Directives and Pipes should not opt out of standalone",
              "line": 7,
              "column": 3,
              "nodeType": "Property",
              "messageId": "preferStandalone",
              "endLine": 7,
              "endColumn": 20,
              "fix": {
                "range": [
                  214,
                  231
                ],
                "text": ""
              }
            }
          ],
          "suppressedMessages": [],
          "errorCount": 1,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 1,
          "fixableWarningCount": 0,
          "source": "import { AfterViewChecked, ChangeDetectorRef, Component } from '@angular/core';\nimport { AuthService } from './services/auth.service';\n\n@Component({\n selector: 'app-root',\n templateUrl: './app.component.html',\n standalone: false\n})\nexport class AppComponent implements AfterViewChecked {\n\n constructor(public auth: AuthService,\n private changeDetector: ChangeDetectorRef) { }\n\n // This fixes: https://github.com/DavideViolante/Angular-Full-Stack/issues/105\n ngAfterViewChecked(): void {\n this.changeDetector.detectChanges();\n }\n\n}\n",
          "usedDeprecatedRules": []
        },
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/client/app/cats/cats.component.ts",
          "messages": [
            {
              "ruleId": "@angular-eslint/prefer-standalone",
              "severity": 2,
              "message": "Components, Directives and Pipes should not opt out of standalone",
              "line": 11,
              "column": 3,
              "nodeType": "Property",
              "messageId": "preferStandalone",
              "endLine": 11,
              "endColumn": 20,
              "fix": {
                "range": [
                  342,
                  359
                ],
                "text": ""
              }
            }
          ],
          "suppressedMessages": [],
          "errorCount": 1,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 1,
          "fixableWarningCount": 0,
          "source": "import { Component, OnInit } from '@angular/core';\n\nimport { CatService } from '../services/cat.service';\nimport { ToastComponent } from '../shared/toast/toast.component';\nimport { Cat } from '../shared/models/cat.model';\n\n@Component({\n selector: 'app-cats',\n templateUrl: './cats.component.html',\n styleUrls: ['./cats.component.scss'],\n standalone: false\n})\nexport class CatsComponent implements OnInit {\n\n cat = new Cat();\n cats: Cat[] = [];\n isLoading = true;\n isEditing = false;\n\n constructor(private catService: CatService,\n public toast: ToastComponent) { }\n\n ngOnInit(): void {\n this.getCats();\n }\n\n getCats(): void {\n this.catService.getCats().subscribe({\n next: data => this.cats = data,\n error: error => console.log(error),\n complete: () => this.isLoading = false\n });\n }\n\n enableEditing(cat: Cat): void {\n this.isEditing = true;\n this.cat = cat;\n }\n\n cancelEditing(): void {\n this.isEditing = false;\n this.cat = new Cat();\n this.toast.setMessage('Item editing cancelled.', 'warning');\n // reload the cats to reset the editing\n this.getCats();\n }\n\n editCat(cat: Cat): void {\n this.catService.editCat(cat).subscribe({\n next: () => {\n this.isEditing = false;\n this.cat = cat;\n this.toast.setMessage('Item edited successfully.', 'success');\n },\n error: error => console.log(error)\n });\n }\n\n deleteCat(cat: Cat): void {\n if (window.confirm('Are you sure you want to permanently delete this item?')) {\n this.catService.deleteCat(cat).subscribe({\n next: () => {\n this.cats = this.cats.filter(elem => elem._id !== cat._id);\n this.toast.setMessage('Item deleted successfully.', 'success');\n },\n error: error => console.log(error)\n });\n }\n }\n\n}\n",
          "usedDeprecatedRules": []
        },
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/client/app/login/login.component.ts",
          "messages": [
            {
              "ruleId": "@angular-eslint/prefer-standalone",
              "severity": 2,
              "message": "Components, Directives and Pipes should not opt out of standalone",
              "line": 11,
              "column": 3,
              "nodeType": "Property",
              "messageId": "preferStandalone",
              "endLine": 11,
              "endColumn": 20,
              "fix": {
                "range": [
                  401,
                  418
                ],
                "text": ""
              }
            }
          ],
          "suppressedMessages": [],
          "errorCount": 1,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 1,
          "fixableWarningCount": 0,
          "source": "import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { UntypedFormBuilder, UntypedFormControl, UntypedFormGroup, Validators } from '@angular/forms';\n\nimport { AuthService } from '../services/auth.service';\nimport { ToastComponent } from '../shared/toast/toast.component';\n\n@Component({\n selector: 'app-login',\n templateUrl: './login.component.html',\n standalone: false\n})\nexport class LoginComponent implements OnInit {\n\n loginForm: UntypedFormGroup;\n email = new UntypedFormControl('', [\n Validators.email,\n Validators.required,\n Validators.minLength(3),\n Validators.maxLength(100)\n ]);\n password = new UntypedFormControl('', [\n Validators.required,\n Validators.minLength(6)\n ]);\n\n constructor(private auth: AuthService,\n private formBuilder: UntypedFormBuilder,\n private router: Router,\n public toast: ToastComponent) {\n this.loginForm = this.formBuilder.group({\n email: this.email,\n password: this.password\n });\n }\n\n ngOnInit(): void {\n if (this.auth.loggedIn) {\n this.router.navigate(['/']);\n }\n }\n\n setClassEmail(): object {\n return { 'has-danger': !this.email.pristine && !this.email.valid };\n }\n\n setClassPassword(): object {\n return { 'has-danger': !this.password.pristine && !this.password.valid };\n }\n\n login(): void {\n this.auth.login(this.loginForm.value);\n }\n\n}\n",
          "usedDeprecatedRules": []
        },
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/client/app/logout/logout.component.ts",
          "messages": [
            {
              "ruleId": "@angular-eslint/prefer-standalone",
              "severity": 2,
              "message": "Components, Directives and Pipes should not opt out of standalone",
              "line": 7,
              "column": 3,
              "nodeType": "Property",
              "messageId": "preferStandalone",
              "endLine": 7,
              "endColumn": 20,
              "fix": {
                "range": [
                  165,
                  182
                ],
                "text": ""
              }
            }
          ],
          "suppressedMessages": [],
          "errorCount": 1,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 1,
          "fixableWarningCount": 0,
          "source": "import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../services/auth.service';\n\n@Component({\n selector: 'app-logout',\n template: '',\n standalone: false\n})\nexport class LogoutComponent implements OnInit {\n\n constructor(private auth: AuthService) { }\n\n ngOnInit(): void {\n this.auth.logout();\n }\n\n}\n",
          "usedDeprecatedRules": []
        },
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/client/app/not-found/not-found.component.ts",
          "messages": [
            {
              "ruleId": "@angular-eslint/prefer-standalone",
              "severity": 2,
              "message": "Components, Directives and Pipes should not opt out of standalone",
              "line": 6,
              "column": 3,
              "nodeType": "Property",
              "messageId": "preferStandalone",
              "endLine": 6,
              "endColumn": 20,
              "fix": {
                "range": [
                  133,
                  150
                ],
                "text": ""
              }
            }
          ],
          "suppressedMessages": [],
          "errorCount": 1,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 1,
          "fixableWarningCount": 0,
          "source": "import { Component } from '@angular/core';\n\n@Component({\n selector: 'app-not-found',\n templateUrl: './not-found.component.html',\n standalone: false\n})\nexport class NotFoundComponent {\n\n}\n",
          "usedDeprecatedRules": []
        },
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/client/app/register/register.component.ts",
          "messages": [
            {
              "ruleId": "@angular-eslint/prefer-standalone",
              "severity": 2,
              "message": "Components, Directives and Pipes should not opt out of standalone",
              "line": 11,
              "column": 3,
              "nodeType": "Property",
              "messageId": "preferStandalone",
              "endLine": 11,
              "endColumn": 20,
              "fix": {
                "range": [
                  399,
                  416
                ],
                "text": ""
              }
            }
          ],
          "suppressedMessages": [],
          "errorCount": 1,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 1,
          "fixableWarningCount": 0,
          "source": "import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { UntypedFormBuilder, UntypedFormControl, UntypedFormGroup, Validators } from '@angular/forms';\n\nimport { UserService } from '../services/user.service';\nimport { ToastComponent } from '../shared/toast/toast.component';\n\n@Component({\n selector: 'app-register',\n templateUrl: './register.component.html',\n standalone: false\n})\nexport class RegisterComponent {\n\n registerForm: UntypedFormGroup;\n username = new UntypedFormControl('', [\n Validators.required,\n Validators.minLength(2),\n Validators.maxLength(30),\n Validators.pattern('[a-zA-Z0-9_-\\\\s]*')\n ]);\n email = new UntypedFormControl('', [\n Validators.email,\n Validators.required,\n Validators.minLength(3),\n Validators.maxLength(100)\n ]);\n password = new UntypedFormControl('', [\n Validators.required,\n Validators.minLength(6)\n ]);\n role = new UntypedFormControl('', [\n Validators.required\n ]);\n\n constructor(private formBuilder: UntypedFormBuilder,\n private router: Router,\n public toast: ToastComponent,\n private userService: UserService) {\n this.registerForm = this.formBuilder.group({\n username: this.username,\n email: this.email,\n password: this.password,\n role: this.role\n });\n }\n\n setClassUsername(): object {\n return { 'has-danger': !this.username.pristine && !this.username.valid };\n }\n\n setClassEmail(): object {\n return { 'has-danger': !this.email.pristine && !this.email.valid };\n }\n\n setClassPassword(): object {\n return { 'has-danger': !this.password.pristine && !this.password.valid };\n }\n\n register(): void {\n this.userService.register(this.registerForm.value).subscribe({\n next: () => {\n this.toast.setMessage('You successfully registered!', 'success');\n this.router.navigate(['/login']);\n },\n error: () => this.toast.setMessage('Email already exists', 'danger')\n });\n }\n}\n",
          "usedDeprecatedRules": []
        },
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/client/app/shared/loading/loading.component.ts",
          "messages": [
            {
              "ruleId": "@angular-eslint/prefer-standalone",
              "severity": 2,
              "message": "Components, Directives and Pipes should not opt out of standalone",
              "line": 6,
              "column": 3,
              "nodeType": "Property",
              "messageId": "preferStandalone",
              "endLine": 6,
              "endColumn": 20,
              "fix": {
                "range": [
                  136,
                  153
                ],
                "text": ""
              }
            }
          ],
          "suppressedMessages": [],
          "errorCount": 1,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 1,
          "fixableWarningCount": 0,
          "source": "import { Component, Input } from '@angular/core';\n\n@Component({\n selector: 'app-loading',\n templateUrl: './loading.component.html',\n standalone: false\n})\nexport class LoadingComponent {\n @Input() condition = false;\n}\n",
          "usedDeprecatedRules": []
        },
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/client/app/shared/toast/toast.component.ts",
          "messages": [
            {
              "ruleId": "@angular-eslint/prefer-standalone",
              "severity": 2,
              "message": "Components, Directives and Pipes should not opt out of standalone",
              "line": 7,
              "column": 3,
              "nodeType": "Property",
              "messageId": "preferStandalone",
              "endLine": 7,
              "endColumn": 20,
              "fix": {
                "range": [
                  173,
                  190
                ],
                "text": ""
              }
            }
          ],
          "suppressedMessages": [],
          "errorCount": 1,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 1,
          "fixableWarningCount": 0,
          "source": "import { Component, Input } from '@angular/core';\n\n@Component({\n selector: 'app-toast',\n templateUrl: './toast.component.html',\n styleUrls: ['./toast.component.scss'],\n standalone: false\n})\nexport class ToastComponent {\n @Input() message = { body: '', type: '' };\n existingTimeout = 0;\n\n setMessage(body: string, type: string, time = 3000): void {\n if (this.existingTimeout) {\n clearTimeout(this.existingTimeout);\n }\n this.message.body = body;\n this.message.type = type;\n this.existingTimeout = window.setTimeout(() => this.message.body = '', time);\n }\n}\n",
          "usedDeprecatedRules": []
        },
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/server/models/user.ts",
          "messages": [
            {
              "ruleId": "@typescript-eslint/no-explicit-any",
              "message": "Definition for rule '@typescript-eslint/no-explicit-any' was not found.",
              "line": 10,
              "column": 3,
              "endLine": 10,
              "endColumn": 65,
              "severity": 2,
              "nodeType": null
            },
            {
              "ruleId": "@typescript-eslint/no-this-alias",
              "message": "Definition for rule '@typescript-eslint/no-this-alias' was not found.",
              "line": 23,
              "column": 3,
              "endLine": 23,
              "endColumn": 63,
              "severity": 2,
              "nodeType": null
            },
            {
              "ruleId": "@typescript-eslint/no-explicit-any",
              "message": "Definition for rule '@typescript-eslint/no-explicit-any' was not found.",
              "line": 36,
              "column": 1,
              "endLine": 36,
              "endColumn": 63,
              "severity": 2,
              "nodeType": null
            }
          ],
          "suppressedMessages": [],
          "errorCount": 3,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 0,
          "fixableWarningCount": 0,
          "source": "import { compare, genSalt, hash } from 'bcryptjs';\nimport { model, Schema } from 'mongoose';\n\ninterface IUser {\n username: string;\n email: string;\n password: string;\n role: string;\n isModified(password: string): boolean;\n // eslint-disable-next-line @typescript-eslint/no-explicit-any\n comparePassword(password: string, callback: (err: any, isMatch: boolean) => void): boolean;\n}\n\nconst userSchema = new Schema<IUser>({\n email: { type: String, unique: true, lowercase: true, trim: true },\n username: String,\n password: String,\n role: String\n});\n\n// Before saving the user, hash the password\nuserSchema.pre<IUser>('save', function(next): void {\n // eslint-disable-next-line @typescript-eslint/no-this-alias\n const user = this;\n if (!user.isModified('password')) { return next(); }\n genSalt(10, (err, salt) => {\n if (err) { return next(err); }\n hash(user.password, salt, (error, hashedPassword) => {\n if (error) { return next(error); }\n user.password = hashedPassword;\n next();\n });\n });\n});\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nuserSchema.methods.comparePassword = function(candidatePassword: string, callback: any): void {\n compare(candidatePassword, this.password, (err, isMatch) => {\n if (err) { return callback(err); }\n callback(null, isMatch);\n });\n};\n\n// Omit the password when returning a user\nuserSchema.set('toJSON', {\n transform: (doc, ret) => {\n delete ret.password;\n return ret;\n }\n});\n\nconst User = model<IUser>('User', userSchema);\n\nexport type { IUser };\nexport default User;\n",
          "usedDeprecatedRules": []
        }
      ]
    }
  },
  "after": {
    "angular2-full-stack": {
      "recommended": [
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/server/models/user.ts",
          "messages": [
            {
              "ruleId": "@typescript-eslint/no-explicit-any",
              "message": "Definition for rule '@typescript-eslint/no-explicit-any' was not found.",
              "line": 10,
              "column": 3,
              "endLine": 10,
              "endColumn": 65,
              "severity": 2,
              "nodeType": null
            },
            {
              "ruleId": "@typescript-eslint/no-this-alias",
              "message": "Definition for rule '@typescript-eslint/no-this-alias' was not found.",
              "line": 23,
              "column": 3,
              "endLine": 23,
              "endColumn": 63,
              "severity": 2,
              "nodeType": null
            },
            {
              "ruleId": "@typescript-eslint/no-explicit-any",
              "message": "Definition for rule '@typescript-eslint/no-explicit-any' was not found.",
              "line": 36,
              "column": 1,
              "endLine": 36,
              "endColumn": 63,
              "severity": 2,
              "nodeType": null
            }
          ],
          "suppressedMessages": [],
          "errorCount": 3,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 0,
          "fixableWarningCount": 0,
          "source": "import { compare, genSalt, hash } from 'bcryptjs';\nimport { model, Schema } from 'mongoose';\n\ninterface IUser {\n username: string;\n email: string;\n password: string;\n role: string;\n isModified(password: string): boolean;\n // eslint-disable-next-line @typescript-eslint/no-explicit-any\n comparePassword(password: string, callback: (err: any, isMatch: boolean) => void): boolean;\n}\n\nconst userSchema = new Schema<IUser>({\n email: { type: String, unique: true, lowercase: true, trim: true },\n username: String,\n password: String,\n role: String\n});\n\n// Before saving the user, hash the password\nuserSchema.pre<IUser>('save', function(next): void {\n // eslint-disable-next-line @typescript-eslint/no-this-alias\n const user = this;\n if (!user.isModified('password')) { return next(); }\n genSalt(10, (err, salt) => {\n if (err) { return next(err); }\n hash(user.password, salt, (error, hashedPassword) => {\n if (error) { return next(error); }\n user.password = hashedPassword;\n next();\n });\n });\n});\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nuserSchema.methods.comparePassword = function(candidatePassword: string, callback: any): void {\n compare(candidatePassword, this.password, (err, isMatch) => {\n if (err) { return callback(err); }\n callback(null, isMatch);\n });\n};\n\n// Omit the password when returning a user\nuserSchema.set('toJSON', {\n transform: (doc, ret) => {\n delete ret.password;\n return ret;\n }\n});\n\nconst User = model<IUser>('User', userSchema);\n\nexport type { IUser };\nexport default User;\n",
          "usedDeprecatedRules": []
        }
      ],
      "all": [
        {
          "filePath": "/home/migudel/Documentos/TFG/repos/propios/Angular-Full-Stack/server/models/user.ts",
          "messages": [
            {
              "ruleId": "@typescript-eslint/no-explicit-any",
              "message": "Definition for rule '@typescript-eslint/no-explicit-any' was not found.",
              "line": 10,
              "column": 3,
              "endLine": 10,
              "endColumn": 65,
              "severity": 2,
              "nodeType": null
            },
            {
              "ruleId": "@typescript-eslint/no-this-alias",
              "message": "Definition for rule '@typescript-eslint/no-this-alias' was not found.",
              "line": 23,
              "column": 3,
              "endLine": 23,
              "endColumn": 63,
              "severity": 2,
              "nodeType": null
            },
            {
              "ruleId": "@typescript-eslint/no-explicit-any",
              "message": "Definition for rule '@typescript-eslint/no-explicit-any' was not found.",
              "line": 36,
              "column": 1,
              "endLine": 36,
              "endColumn": 63,
              "severity": 2,
              "nodeType": null
            }
          ],
          "suppressedMessages": [],
          "errorCount": 3,
          "fatalErrorCount": 0,
          "warningCount": 0,
          "fixableErrorCount": 0,
          "fixableWarningCount": 0,
          "source": "import { compare, genSalt, hash } from 'bcryptjs';\nimport { model, Schema } from 'mongoose';\n\ninterface IUser {\n username: string;\n email: string;\n password: string;\n role: string;\n isModified(password: string): boolean;\n // eslint-disable-next-line @typescript-eslint/no-explicit-any\n comparePassword(password: string, callback: (err: any, isMatch: boolean) => void): boolean;\n}\n\nconst userSchema = new Schema<IUser>({\n email: { type: String, unique: true, lowercase: true, trim: true },\n username: String,\n password: String,\n role: String\n});\n\n// Before saving the user, hash the password\nuserSchema.pre<IUser>('save', function(next): void {\n // eslint-disable-next-line @typescript-eslint/no-this-alias\n const user = this;\n if (!user.isModified('password')) { return next(); }\n genSalt(10, (err, salt) => {\n if (err) { return next(err); }\n hash(user.password, salt, (error, hashedPassword) => {\n if (error) { return next(error); }\n user.password = hashedPassword;\n next();\n });\n });\n});\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nuserSchema.methods.comparePassword = function(candidatePassword: string, callback: any): void {\n compare(candidatePassword, this.password, (err, isMatch) => {\n if (err) { return callback(err); }\n callback(null, isMatch);\n });\n};\n\n// Omit the password when returning a user\nuserSchema.set('toJSON', {\n transform: (doc, ret) => {\n delete ret.password;\n return ret;\n }\n});\n\nconst User = model<IUser>('User', userSchema);\n\nexport type { IUser };\nexport default User;\n",
          "usedDeprecatedRules": []
        }
      ]
    }
  }
}
